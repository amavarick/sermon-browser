<?php

function sb_search_results_dictionary() {
	return array(
		'[filters_form]' => '<?php sb_print_filters($atts ?? array()) ?>',
		'[most_popular]' => '<?php sb_print_most_popular() ?>',
		'[tag_cloud]' => '<?php sb_print_tag_clouds() ?>',
		'[sermons_count]' => '<?php echo (int)($record_count ?? 0) ?>',
		'[sermons_loop]' => '<?php foreach ((array)($sermons ?? array()) as $sermon){ $media = sb_get_stuff($sermon); ?>',
		'[/sermons_loop]' => '<?php } ?>',
		'[sermon_title]' => '<a href="<?php sb_print_sermon_link($sermon) ?>"><?php echo esc_html(stripslashes($sermon->title ?? "")) ?></a>',
		'[preacher_link]' => '<a href="<?php sb_print_preacher_link($sermon) ?>"><?php echo esc_html(stripslashes($sermon->preacher ?? "")) ?></a>',
		'[series_link]' => '<a href="<?php sb_print_series_link($sermon) ?>"><?php echo esc_html(stripslashes($sermon->series ?? "")) ?></a>',
		'[service_link]' => '<a href="<?php sb_print_service_link($sermon) ?>"><?php echo esc_html(stripslashes($sermon->service ?? "")) ?></a>',
		'[date]' => '<?php echo sb_formatted_date ($sermon) ?>',
		'[first_passage]' => '<?php $foo = unserialize($sermon->start); $bar = unserialize($sermon->end); if (isset($foo[0]) && isset($bar[0])) echo sb_get_books($foo[0], $bar[0]) ?>',
		'[files_loop]' => '<?php foreach ((array) ($media ?? array()) as $media_type => $media_names) { if (is_array($media_names) && $media_type != "Code") { foreach ((array)$media_names as $media_name) { ?>',
		'[/files_loop]' => '<?php } } } ?>',
		'[file]' => '<?php sb_print_url($media_name) ?>',
		'[file_with_download]' => '<?php sb_print_url_link($media_name) ?>',
		'[embed_loop]' => '<?php foreach ((array) ($media ?? array()) as $media_type => $media_names) { if (is_array($media_names) && $media_type == "Code") { foreach ((array)$media_names as $media_name) { ?>',
		'[/embed_loop]' => '<?php } } } ?>',
		'[embed]' => '<?php sb_print_code($media_name) ?>',
		'[next_page]' => '<?php sb_print_next_page_link() ?>',
		'[previous_page]' => '<?php sb_print_prev_page_link() ?>',
		'[podcast_for_search]' => '<?php echo esc_url(sb_podcast_url()) ?>',
		'[podcast]' => '<?php echo esc_url(sb_get_option("podcast_url")) ?>',
		'[itunes_podcast]' => '<?php echo esc_url(str_replace("http://", "itpc://", (string)sb_get_option("podcast_url"))) ?>',
		'[itunes_podcast_for_search]' => '<?php echo esc_url(str_replace("http://", "itpc://", (string)sb_podcast_url())) ?>',
		'[podcasticon]' => '<img alt="Subscribe to full podcast" title="Subscribe to full podcast" class="podcasticon" src="<?php echo esc_url(SB_PLUGIN_URL) ?>/sb-includes/icons/podcast.png"/>',
		'[podcasticon_for_search]' => '<img alt="Subscribe to custom podcast" title="Subscribe to custom podcast" class="podcasticon" src="<?php echo esc_url(SB_PLUGIN_URL) ?>/sb-includes/icons/podcast_custom.png"/>',
		'[editlink]' => '<?php sb_edit_link($sermon->id ?? 0) ?>',
		'[creditlink]' => '<div id="poweredbysermonbrowser">Powered by <a href="http://www.sermonbrowser.com/">Sermon Browser</a></div>',
	);
}

function sb_sermon_page_dictionary() {
	return array(
		'[sermon_title]' => '<?php echo esc_html(stripslashes($sermon["Sermon"]->title ?? "")) ?>',
		'[sermon_description]' => '<?php echo wp_kses_post(wpautop(stripslashes($sermon["Sermon"]->description ?? ""))) ?>',
		'[preacher_link]' => '<a href="<?php sb_print_preacher_link($sermon["Sermon"] ?? null) ?>"><?php echo esc_html(stripslashes($sermon["Sermon"]->preacher ?? "")) ?></a>',
		'[preacher_description]' => '<?php sb_print_preacher_description($sermon["Sermon"] ?? null) ?>',
		'[preacher_image]' => '<?php sb_print_preacher_image($sermon["Sermon"] ?? null) ?>',
		'[series_link]' => '<a href="<?php sb_print_series_link($sermon["Sermon"] ?? null) ?>"><?php echo esc_html(stripslashes($sermon["Sermon"]->series ?? "")) ?></a>',
		'[service_link]' => '<a href="<?php sb_print_service_link($sermon["Sermon"] ?? null) ?>"><?php echo esc_html(stripslashes($sermon["Sermon"]->service ?? "")) ?></a>',
		'[date]' => '<?php echo sb_formatted_date ($sermon["Sermon"] ?? null) ?>',
		'[passages_loop]' => '<?php $ref_output = array(); $p_count = isset($sermon["Sermon"]->start) ? count((array)$sermon["Sermon"]->start) : 0; for ($i = 0; $i < $p_count; $i++): ?>',
		'[/passages_loop]' => '<?php endfor; echo esc_html(implode(", ", (array)$ref_output)); ?>',
		'[passage]' => '<?php if(isset($sermon["Sermon"]->start[$i])) { $ref_output[] = sb_get_books($sermon["Sermon"]->start[$i], $sermon["Sermon"]->end[$i]); } ?>',
		'[files_loop]' => '<?php $media = sb_get_stuff($sermon["Sermon"] ?? null); foreach ((array) ($media ?? array()) as $media_type => $media_names) { if (is_array($media_names) && $media_type != "Code") { foreach ((array)$media_names as $media_name) {  ?>',
		'[/files_loop]' => '<?php } } } ?>',
		'[file]' => '<?php sb_print_url($media_name) ?>',
		'[file_with_download]' => '<?php sb_print_url_link($media_name) ?>',
		'[embed_loop]' => '<?php $media = sb_get_stuff($sermon["Sermon"] ?? null); foreach ((array) ($media ?? array()) as $media_type => $media_names) { if (is_array($media_names) && $media_type == "Code") { foreach ((array)$media_names as $media_name) { ?>',
		'[/embed_loop]' => '<?php } } } ?>',
		'[embed]' => '<?php sb_print_code($media_name) ?>',
		'[next_sermon]' => '<?php sb_print_next_sermon_link($sermon["Sermon"] ?? null) ?>',
		'[prev_sermon]' => '<?php sb_print_prev_sermon_link($sermon["Sermon"] ?? null) ?>',
		'[sameday_sermon]' => '<?php sb_print_sameday_sermon_link($sermon["Sermon"] ?? null) ?>',
		'[tags]' => '<?php sb_print_tags($sermon["Tags"] ?? array()) ?>',
		'[esvtext]' => '<?php $p_count = isset($sermon["Sermon"]->start) ? count((array)$sermon["Sermon"]->start) : 0; for ($i = 0; $i < $p_count; $i++): echo sb_add_bible_text ($sermon["Sermon"]->start[$i], $sermon["Sermon"]->end[$i], "esv"); endfor ?>',
		'[kjvtext]' => '<?php $p_count = isset($sermon["Sermon"]->start) ? count((array)$sermon["Sermon"]->start) : 0; for ($i = 0; $i < $p_count; $i++): echo sb_add_bible_text ($sermon["Sermon"]->start[$i], $sermon["Sermon"]->end[$i], "kjv"); endfor ?>',
		'[asvtext]' => '<?php $p_count = isset($sermon["Sermon"]->start) ? count((array)$sermon["Sermon"]->start) : 0; for ($i = 0; $i < $p_count; $i++): echo sb_add_bible_text ($sermon["Sermon"]->start[$i], $sermon["Sermon"]->end[$i], "asv"); endfor ?>',
		'[nettext]' => '<?php $p_count = isset($sermon["Sermon"]->start) ? count((array)$sermon["Sermon"]->start) : 0; for ($i = 0; $i < $p_count; $i++): echo sb_add_bible_text ($sermon["Sermon"]->start[$i], $sermon["Sermon"]->end[$i], "net"); endfor ?>',
		'[ylttext]' => '<?php $p_count = isset($sermon["Sermon"]->start) ? count((array)$sermon["Sermon"]->start) : 0; for ($i = 0; $i < $p_count; $i++): echo sb_add_bible_text ($sermon["Sermon"]->start[$i], $sermon["Sermon"]->end[$i], "ylt"); endfor ?>',
		'[webtext]' => '<?php $p_count = isset($sermon["Sermon"]->start) ? count((array)$sermon["Sermon"]->start) : 0; for ($i = 0; $i < $p_count; $i++): echo sb_add_bible_text ($sermon["Sermon"]->start[$i], $sermon["Sermon"]->end[$i], "web"); endfor ?>',
		'[akjvtext]' => '<?php $p_count = isset($sermon["Sermon"]->start) ? count((array)$sermon["Sermon"]->start) : 0; for ($i = 0; $i < $p_count; $i++): echo sb_add_bible_text ($sermon["Sermon"]->start[$i], $sermon["Sermon"]->end[$i], "akjv"); endfor ?>',
		'[hnvtext]' => '<?php $p_count = isset($sermon["Sermon"]->start) ? count((array)$sermon["Sermon"]->start) : 0; for ($i = 0; $i < $p_count; $i++): echo sb_add_bible_text ($sermon["Sermon"]->start[$i], $sermon["Sermon"]->end[$i], "hnv"); endfor ?>',
		'[lbrvtext]' => '<?php $p_count = isset($sermon["Sermon"]->start) ? count((array)$sermon["Sermon"]->start) : 0; for ($i = 0; $i < $p_count; $i++): echo sb_add_bible_text ($sermon["Sermon"]->start[$i], $sermon["Sermon"]->end[$i], "rv1909"); endfor ?>',
		'[cornilescutext]' => '<?php $p_count = isset($sermon["Sermon"]->start) ? count((array)$sermon["Sermon"]->start) : 0; for ($i = 0; $i < $p_count; $i++): echo sb_add_bible_text ($sermon["Sermon"]->start[$i], $sermon["Sermon"]->end[$i], "cornilescu"); endfor ?>',
		'[synodaltext]' => '<?php $p_count = isset($sermon["Sermon"]->start) ? count((array)$sermon["Sermon"]->start) : 0; for ($i = 0; $i < $p_count; $i++): echo sb_add_bible_text ($sermon["Sermon"]->start[$i], $sermon["Sermon"]->end[$i], "synodal"); endfor ?>',
		'[biblepassage]' => '<?php $p_count = isset($sermon["Sermon"]->start) ? count((array)$sermon["Sermon"]->start) : 0; for ($i = 0; $i < $p_count; $i++): sb_print_bible_passage ($sermon["Sermon"]->start[$i], $sermon["Sermon"]->end[$i]); endfor ?>',
		'[editlink]' => '<?php sb_edit_link($sermon["Sermon"]->id ?? 0) ?>',
		'[creditlink]' => '<div id="poweredbysermonbrowser">Powered by <a href="http://www.sermonbrowser.com/">Sermon Browser</a></div>',
	);
}
